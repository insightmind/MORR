\chapter{Application Data}
\label{ch:data}

\newcounter{counterD}
\newcommand{\internaldspec}[1]
{
    \item[D\arabic{counterD}\phantomsection\label{D\arabic{counterD}}]{#1}
}
\newcommand{\dspec}[2][]{\ifthenelse{\equal{#1}{}}{\setcounter{counterD}{\intcalcAdd{\value{counterD}}{\intcalcSub{10}{\intcalcMod{\value{counterD}}{10}}}}}{\setcounter{counterD}{#1}}\internaldspec{#2}}
\newcommand{\dsubspec}[1]{\stepcounter{counterD}\internaldspec{#1}}

The application's main purpose is all about collecting data. This data is supposed to help to find patterns in research activity using a personal computer. Therefore there is a great range of distinctive datasets that are interesting to collect.

\section{Session recordings}
\begin{itemize}
\dspec{All \gls{session} recordings are stored locally in a file-based format and may be uploaded to remote storage. }

\dspec{A session recording needs to contain a unique identifier}
\dsubspec{A session recording needs to contain a timestamp of beginning and end of the recording}
\dsubspec{A session recording needs to contain a \gls{videostream}}
\dsubspec{A session recording needs to contain the \glspl{event} in chronological order}

\dspec{Each \gls{session} recording is contained in a mpeg-4 video container}

\dspec{The \gls{videostream} can vary but must include the following:

	Metadata:
	\begin{itemize}
	\item Framerate
	\item Resolution
	\item Bitrate
	\end{itemize}

	Data:
	\begin{itemize}
	\item Video
	\item Audio (if enabled)
	\end{itemize}
}
\end{itemize}

\section{Context}
\label{sec:context}

\begin{itemize}
\dspec[200]{The content of the context depends on the application in use but is structured as follows:
	\begin{itemize}
		\item A unique identifier for the application currently focused by the \gls{user}
		\item Application-specific metadata (e.g. the URL of the current tab for the browser or the title of the current document for Excel)
	\end{itemize}
}
\end{itemize}

\section{Events}
\label{sec:events}

Each dataset in a \gls{session} is described by an \gls{event}, which has been recognized and issued by a collecting \gls{module}. Each \gls{event} includes multiple properties, which define and describe the \gls{event}.

\begin{itemize}
\dspec[300]{An \gls{event} must include the timestamp of its occurrence}
\dsubspec{An \gls{event} must include the identifier of the \gls{module} it was issued by}
\dsubspec{An \gls{event} must include the type which identifies its general action, e.g. "MouseClick"}
\end{itemize}

\subsection{Window Management \Glspl{event}}

A window-management \gls{event} is issued by the window-management \gls{module}.

\begin{itemize}
\dspec{A generic Window-Management \gls{event} must include the following data:
	\begin{itemize}
	\item The title of the interacted window
	\item The name of the process associated with the window
	\end{itemize}
}

\dsubspec{A Window-Focus \gls{event} should only include the general data. }

\dsubspec{A Window-Movement \gls{event} should include following additional data:
	\begin{itemize}
	\item Old and new location
	\end{itemize}
}
	
\dsubspec{A Window-Resizing \gls{event} should include following additional data:
	\begin{itemize}
	\item Old and new window size
	\end{itemize}
}
	
\dsubspec{A Window-Maximizing/Minimizing/Restoring \gls{event} should include following additional data:
	\begin{itemize}
	\item The new state of the window:
		\begin{itemize}
		\item Maximized
		\item Restored
		\item Minimized
		\end{itemize}
	\end{itemize}
}
\end{itemize}

\subsection{Mouse Interaction \Glspl{event}}

A mouse-interaction \gls{event} is issued by the mouse \gls{module}.

\begin{itemize}
\dspec{A Mouse-Click-Interaction \gls{event} should include the following data:
	\begin{itemize}
	\item Clicked button:
		\begin{itemize}
		\item Right-Mouse-Button
		\item Scroll-Wheel-Button
		\item Left-Mouse-Button
		\end{itemize}
	\item Type which identifies if the click is a single or double click
	\item The HWND of the view that was clicked
	\end{itemize}
}

\dsubspec{A Mouse-Scroll-Interaction \gls{event} should include the following data:
	\begin{itemize}
	\item Scroll amount
	\item The HWND of the view that was scrolled
	\end{itemize}
}

\dsubspec{A Mouse-Movement-Interaction \gls{event} should include the following data:
	\begin{itemize}
	\item Movement vector
	\end{itemize}
}
\end{itemize}

\subsection{Keyboard Interaction \Glspl{event}}

A keyboard-interaction \gls{event} is issued by the keyboard \gls{module}.

\begin{itemize}
\dspec{A Keyboard-Interaction \gls{event} must include the following data:
	\begin{itemize}
	\item Pressed key
	\item All of the modifier keys that are pressed:
		\begin{itemize}
		\item Ctrl
		\item Alt
		\item Shift
		\item Windows
		\end{itemize}
	\end{itemize}
}
\end{itemize}

\subsection{Clipboard \Glspl{event}}

A clipboard \gls{event} is issued by the clipboard \gls{module}.

\begin{itemize}
\dspec{A Clipboard-Interaction \gls{event} must include the following data:
	\begin{itemize}
	\item Contained clipboard text
	\item Interaction type:
		\begin{itemize}
		\item Copy
		\item Paste
		\end{itemize}
	\end{itemize}
}
\end{itemize}

\subsection{\Gls{browser} \Glspl{event}}

A \gls{browser} \gls{event} is issued by the \gls{browser} \gls{module}.

\begin{itemize}
\dspec{A generic \gls{browser} \gls{event} must include the following data:
	\begin{itemize}
	\item URL of the interacted website
	\end{itemize}
}

\dsubspec{An Open-tab \gls{event} must include the following additional data:
	\begin{itemize}
		\item The unique identifier of the tab that was opened
	\end{itemize}
}

\dsubspec{A Switch-tab \gls{event} must include the following additional data:
	\begin{itemize}
		\item The unique identifier of the tab that the \gls{user} switched from
		\item The unique identifier of the tab that the \gls{user} switched Textbox
	\end{itemize}
}

\dsubspec{A Close-tab \gls{event} must include the following additional data:
	\begin{itemize}
		\item The unique identifier of the tab that was closed
	\end{itemize}
}

\dsubspec{A Navigation \gls{event} must include the following additional data:
	\begin{itemize}
	\item URL of the opened website
	\end{itemize}
}
	
\dsubspec{A Text-Input \gls{event} must include the following additional data:
	\begin{itemize}
	\item Text which has been inputted by the user
	\item Textbox or form
	\end{itemize}
}
	
\dsubspec{A Button-Click \gls{event} must include the following additional data:
	\begin{itemize}
	\item Button item title
	\item URL of the linked webpage
	\end{itemize}
}
	
\dsubspec{A Hover \gls{event} must include the following additional data:
	\begin{itemize}
	\item Element which has been hovered
	\end{itemize}
}
	
\dsubspec{A Text-Selection \gls{event} must include the following additional data:
	\begin{itemize}
	\item Selected Text
	\end{itemize}
}

\dsubspec{A File-Download \gls{event} must include the following additional data:
	\begin{itemize}
		\item URL of the file that was downloaded
		\item MIME type of the file that was downloaded
	\end{itemize}
}
\end{itemize}