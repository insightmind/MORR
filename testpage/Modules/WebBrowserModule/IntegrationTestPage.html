<!DOCTYPE html>
<html>
    <head>
        <title>MORR Webextension Testpage</title>
    </head>
</html>
<body>
    <a href="../../index.html" id="The Hrefs id">Back to overview</a>
    <h1>MORR Webextension Testpage</h1>
    <p>This webpage contains sample cases for every event generated by the MORR webextension.<br>
        You can find a description of the expected behavior in each section.<br>
        When you see <b>[TestRoot]</b> in the data description of an event, this refers to the root-path of the testpage, e.g. <i>file:///C:/Users/JohnDoe/Documents/testpage/Modules/WebBrowserModule/</i>
    </p>
    <p>
        Please make sure to run these tests in an otherwise empty browser (no additional tabs, windows of the same browser).<br>
        Also make sure that the Webextension is properly installed (the icon should turn red within 5 seconds when MORR starts recording).<br>
        After starting a MORR recording, please wait for the Webextension icon to turn red before starting to perform the tests.
    </p>

    <h2>Info</h2>
    <p>
        Each test consists of two items:<br>
        <b>Action</b> describes the action you (the tester) must perform in order to generate the relevant test data.<br>
        <b>Expected behavior</b> describes the event which should have resulted from your actions and thus be serialized into the recording file.<br>
        The following tests are grouped by event type.
    </p>
    <p>
        In additional to the data described in the <b>Expected behavior</b> of each respective test, each event is also expected to hold this data:<br>
        <i>CurrentURL</i>: "[TestRoot]IntegrationTestPage.html" unless specified otherwise <br>
        <i>TimeStamp</i>: The serialized time of the event's occurence, e.g. "2020-03-16T17:43:52.517Z"<br>
        <i>IssuingModule</i>: "e9240dc4-f33f-43db-a419-5b36d8279c88"<br>
        <i>TabID</i>: a positive number
    </p>

    <h2>1. ButtonClickEvent</h2>
    <h3>Test 1</h3>
    <b>Covers testcase(s)</b>: TC560
    <p><b>Action:</b><br>Click the following button<br>
        <br>
        <b>Expected behavior:</b><br>A new ButtonClickEvent is created with following data:<br>
        <i>ButtonTitle</i>: "Click Me!"<br>
        <i>ButtonHref</i>: null
    </p>
    <button id="The buttons id" title="The buttons title">Click Me!</button>

    <h3>Test 2</h3>
    <b>Covers testcase(s)</b>: TC560
    <p><b>Action:</b><br>
        Click the following highlighted text.<br>
        <br>
        <b>Expected behavior:</b><br>A new ButtonClickEvent is created with following data:<br>
        <i>ButtonTitle</i>: "Click Me (Href)"<br>
        <i>ButtonHref</i>: "SubPages/HrefToHere.html"
    </p>
    <a href="SubPages/HrefToHere.html" id="The Hrefs id">Click Me (Href)</a>

    <h2>2. CloseTabEvent</h2>
    <h3>Test 1</h3>
    <b>Covers testcase(s)</b>: TC530
    <p><b>Action:</b><br>
        Click the following highlighted text to open a new Tab. Close this new tab again to return to the current page.<br>
        <br>
        <b>Expected behavior:</b><br>An new OpenTabEvent, NavigationEvent, two SwitchTabEvents, and a new CloseTabEvent are created. The CloseTabEvent contains following data:<br>
        <i>CurrentURL</i>: "[TestRoot]Subpages/CloseTabSubPage.html"<br>
    </p>
    <a target="_blank" rel="noopener noreferrer" href="Subpages/CloseTabSubPage.html">Click Me to open a New Tab</a>

    <h2>3. FileDownloadEvent</h2>
    <h3>Test 1</h3>
    <b>Covers testcase(s)</b>: TC590
    <p><b>Action:</b><br>
        Download the following file, e.g. by rightclicking the highlighted "Download" text and choosing "Save Link as".<br>
        <br>
        <b>Expected behavior:</b><br>A new FileDownloadEvent is created with following data:<br>
        <i>FileURL</i>: "[TestRoot]Subpages/download.png"<br>
        <i>MIMEType</i>: "image/png"<br>
    </p>
    
    <a href="SubPages/download.png" download>Download</a>

    <h2>4. HoverEvent</h2>
    <h3>Test 1</h3>
    <b>Covers testcase(s)</b>: TC570
    <p><b>Action:</b><br>
        Move your mousepointer over the following element and leave it there for 0.5 seconds.<br>
        <br>
        <b>Expected behavior:</b><br>A new HoverEvent is created with following data:<br>
        <i>HoveredElement</i>: "Hover Me!"<br>
    </p>
    <button>Hover Me!</button>

    <h2>5. NavigationEvent</h2>
    <h3>Test 1</h3>
    <b>Covers testcase(s)</b>: TC540
    <p><b>Action:</b><br>
       Click the following highlighted text to navigate to another URL.<br>
        <br>
        <b>Expected behavior:</b><br>A new NavigationEvent is created with following data:<br>
        <i>CurrentURL</i>: "[TestRoot]SubPages/HrefToHere.html"<br>
    </p>
    <a href="SubPages/HrefToHere.html" id="The Hrefs id">Click Me to navigate</a>
    
    <h2>6. OpenTabEvent</h2>
    <h3>Test 1</h3>
    <b>Covers testcase(s)</b>: TC510
    <p><b>Action:</b><br>
        Click the following highlighted text to open a new Tab.<br>
        <br>
        <b>Expected behavior:</b><br>A new OpenTabEvent is created with following data:<br>
        <i>CurrentURL</i>: "url:unknown"<br>
    </p>

    <a target="_blank" rel="noopener noreferrer" href="Subpages/CloseTabSubPage.html">Click Me to open a New Tab</a>

    <h2>7. SwitchTabEvent</h2>
    <h3>Test 1</h3>
    <b>Covers testcase(s)</b>: TC520
    <p><b>Action:</b><br>
        Click the following highlighted text to open a new Tab. Afterwards, switch to the previous Tab (containing this webpage).<br>
        <br>
        <b>Expected behavior:</b><br>Two SwitchTabEvents are created.<br>
        <b>Note:</b> <b>X</b> and <b>Y</b> are arbitrary but fixed positive numbers
        <br><br>
        The first SwitchTabEvent has this data<br>
        <i>CurrentURL</i>: "[TestRoot]IntegrationTestPage.html"<br>
        <i>NewTabID</i>: <b>X</b><br>
        <i>TabID</i>: <b>Y</b><br>
        <br>
        The second SwitchTabEvent has this data:<br>
        <i>CurrentURL</i>: "[TestRoot]SubPages/SwitchTabSubPage.html"<br>
        <i>NewTabID</i>: <b>Y</b><br>
        <i>TabID</i>: <b>X</b><br>
    </p>

    <a target="_blank" rel="noopener noreferrer" href="Subpages/SwitchTabSubPage.html">Click Me to open a New Tab</a>
    <h2>8. TextInputEvent</h2>
    <h3>Test 1</h3>
    <b>Covers testcase(s)</b>: TC550
    <p><b>Action:</b><br>
        Enter any text (subsequently called <b>W</b>) in the following input textfield and then remove focus from the input field (e.g. by pressing Tab or leftclicking to the right of the textfield)<br>
        <b>Note</b>: The textfield is limited to 8 characters to keep the test short.<br>
        <br>
        <b>Expected behavior:</b><br>A new TextInputEvent is created with following data:<br>
        <i>InputtedText</i>: <b>W</b> = your text<br>
        <i>Textbox</i>: "TestTextField"
    </p>

    <input id="TestTextField" type="text" maxlength=8>
    <h2>9. TextSelectionEvent</h2>

    <h3>Test 1</h3>
    <b>Covers testcase(s)</b>: TC580
    <p><b>Action:</b><br>
        Select any text from the following sentence (printed in blue) by pressing and holding the left mouse button at the start of your selection and releasing the left mouse button at the end of your selection.<br>
        Your selected text is subsequently called <b>W</b><br>
        <br>
        <b>Expected behavior:</b><br>A new TextSelectionEvent is created with following data:<br>
        <i>SelectedText</i>: <b>W</b> = your selected text
    </p>

    <p style="color:blue;">In almost every program, text can be selected using either the mouse or the keyboard.</p>

    <h3>Test 2</h3>
    <b>Covers testcase(s)</b>: TC580
    <p><b>Action:</b><br>
        Select text like in test 1, but do at least leave out the last word and select your text from left to right (otherwise the next step may shrink the selection instead of increasing it).<br>
        Your selected text is subsequently called <b>W</b><br>
        Next, add to the selected range by pressing and holding the shift-key and pressing the RIGHTARROW key two times (release shift afterwards).<br>

        <br>
        <b>Expected behavior:</b><br>Two new TextSelectionEvents are created with following data:<br>
        First event:<br>
        <i>SelectedText</i>: <b>W</b> = your selected text<br>
        Second event:<br>
        <i>SelectedText</i>: <b>W</b> + 2 characters to the right
    </p>

    <p style="color:blue;">In almost every program, text can be selected using either the mouse or the keyboard.</p>
</body>